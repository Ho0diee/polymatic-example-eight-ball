<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport"
    content="user-scalable=no, width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
  <link rel="stylesheet" href="./style.css">
  <meta name="theme-color" content="#323130" />
  <meta name="color-scheme" content="dark" />
</head>

<body>
  <!-- Slowmo vignette overlay -->
  <div id="slowmo-vignette"></div>

  <!-- Waiting Room / Lobby Screen -->
  <div id="waiting-room" class="hidden">
    <div class="waiting-room-content">
      <h2>ðŸŽ± Waiting Room</h2>
      <div class="room-id-section">
        <span class="room-id-label">Room Code:</span>
        <span class="room-id-value" id="waiting-room-id">---</span>
        <button class="copy-btn" id="copy-room-id">ðŸ“‹ Copy</button>
      </div>
      <div class="players-section">
        <div class="player-slot" id="player-slot-1">
          <div class="player-slot-avatar"></div>
          <span class="player-slot-name">Waiting...</span>
          <span class="player-slot-status"></span>
        </div>
        <div class="vs-divider">VS</div>
        <div class="player-slot" id="player-slot-2">
          <div class="player-slot-avatar"></div>
          <span class="player-slot-name">Waiting...</span>
          <span class="player-slot-status"></span>
        </div>
      </div>
      <div class="waiting-status" id="waiting-status">
        <div class="spinner"></div>
        <span>Waiting for opponent to join...</span>
      </div>
      <button class="leave-btn" id="leave-waiting-room">Leave Room</button>
    </div>
  </div>
  
  <svg id="polymatic-eight-ball" class="terminal"></svg>
  
  <!-- Top Bar UI -->
  <div id="top-bar">
    <!-- Player 1 Section -->
    <div class="player-section left active" id="player1-section">
      <div class="section-glow"></div>
      <div class="avatar-container">
        <div class="avatar-img"></div>
      </div>
      <div class="player-details">
        <div class="name-row">
          <span class="player-name">Player 1</span>
        </div>
        <div class="specific-balls" id="player1-balls">
          <!-- Balls appear here as they are pocketed -->
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
        </div>
      </div>
    </div>

    <!-- Shot Clock -->
    <div class="shot-clock" id="shot-clock">10</div>

    <!-- Player 2 Section -->
    <div class="player-section right" id="player2-section">
      <div class="section-glow"></div>
      <div class="player-details">
        <div class="name-row">
          <span class="player-name">Player 2</span>
        </div>
        <div class="specific-balls" id="player2-balls">
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
          <div class="mini-ball empty-slot"></div>
        </div>
      </div>
      <div class="avatar-container">
        <div class="avatar-img"></div>
      </div>
    </div>
  </div>

  <!-- Turn Announcement Overlay -->
  <div class="turn-announcement" id="turn-announcement">
    <div class="turn-text" id="turn-text">Player 1's Turn</div>
  </div>

  <!-- Power Bar (Left Side) -->
  <div id="controls-left">
    <div class="power-bar-container" id="power-bar-left">
      <div class="power-track">
        <div class="power-segment"></div>
        <div class="power-segment"></div>
        <div class="power-segment"></div>
        <div class="power-segment"></div>
        <div class="power-segment"></div>
      </div>
      <div class="power-handle"></div>
    </div>
  </div>

  <div style="position: absolute; top: 4em; left: 0.5em;">
    <div id="game-status"></div>
    <div id="room-status"></div>
  </div>
  <div style="position: absolute; bottom: 0.5em; left: 0.5em; z-index: 10;">
    <button id="play-offline">Play Offline</button>
    <button id="create-room">Create Room</button>
    <button id="join-room">Join Room</button>  
    <!-- <button id="leave-room">Leave Room</button> -->
  </div>
  <script type="module" src="./src/client"></script>
</body>

</html>